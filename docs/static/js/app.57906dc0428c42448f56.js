webpackJsonp([1],{"1dOJ":function(t,e,r){"use strict";function a(t){this.size=Math.pow(2,t)+1,this.max=this.size-1,this.map=new Float32Array(this.size*this.size)}function i(t){var e=[181,186,136];return t>=200&&(e=[244,255,148]),t>=260&&(e=[48,140,48]),t>=280&&(e=[54,117,43]),t>=300&&(e=[99,99,99]),t>=360&&(e=[240,240,240]),"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}a.prototype.setMap=function(t){this.map=t},a.prototype.get=function(t,e){return t<0||t>this.max||e<0||e>this.max?-1:this.map[t+this.size*e]},a.prototype.set=function(t,e,r){this.map[t+this.size*e]=r},a.prototype.generate=function(t){var e=this;function r(t){var e=t.filter(function(t){return-1!==t});return e.reduce(function(t,e){return t+e},0)/e.length}function a(t,a,i,n){var o=r([e.get(t-i,a-i),e.get(t+i,a-i),e.get(t+i,a+i),e.get(t-i,a+i)]);e.set(t,a,o+n)}function i(t,a,i,n){var o=r([e.get(t,a-i),e.get(t+i,a),e.get(t,a+i),e.get(t-i,a)]);e.set(t,a,o+n)}this.set(0,0,e.max),this.set(this.max,0,e.max/2),this.set(this.max,this.max,0),this.set(0,this.max,e.max/2),function r(n){var o,s,c=n/2;var l=t*n;if(c<1)return;for(s=c;s<e.max;s+=n)for(o=c;o<e.max;o+=n)a(o,s,c,Math.random()*l*2-l);for(s=0;s<=e.max;s+=c)for(o=(s+c)%n;o<=e.max;o+=n)i(o,s,c,Math.random()*l*2-l);r(n/2)}(this.max)},a.prototype.getAverageHeight=function(){return this.map.reduce(function(t,e){return t+e},0)/this.map.length},a.prototype.getMinHeight=function(){var t=1/0;return this.map.forEach(function(e){e<t&&(t=e)}),t},a.prototype.getMaxHeight=function(){var t=-1/0;return this.map.forEach(function(e){e>t&&(t=e)}),t},a.prototype._toMesh=function(t,e,r,a){for(var i=new THREE.PlaneGeometry(t,t,e-1,e-1),n=t/e,o=1/0,s=-1/0,c=0;c<e;c++)for(var l=0;l<e;l++){var u=this.get(Math.floor(l*n*this.size/t),Math.floor(c*n*this.size/t));u<o&&(o=u),u>s&&(s=u),u<0&&(u=0),0!==c&&c!==e-1&&0!==l&&l!==e-1||(u=0),i.vertices[c*e+l].z=u}var h=(s-o)/4;i.vertices.forEach(function(t){t.z-=h});this.createTexture(t,e);var m=new THREE.MeshBasicMaterial({color:a||15674718,wireframe:!0}),d=new THREE.Mesh(i,m);return d.rotation.x=-Math.PI/2,d.receiveShadow=!0,d.castShadow=!0,d.position.y-=this.getMinHeight(),d},a.prototype.toShadedMesh=function(t,e,r){return this._toMesh(t,e,!1,r)},a.prototype.toWireframeMesh=function(t,e,r){return this._toMesh(t,e,!0,r)},a.prototype.createTexture=function(t,e){var r=document.createElement("canvas");r.width=t,r.height=t;for(var a=t/e,n=r.getContext("2d"),o=(this.getMinHeight(),this.getMaxHeight(),0);o<e;o++)for(var s=0;s<e;s++){var c=this.get(Math.floor(s*a*this.size/t),Math.floor(o*a*this.size/t));n.fillStyle=i(c),n.fillRect(s*a,o*a,a,a)}return new THREE.CanvasTexture(r)},AFRAME.registerComponent("terrain",{schema:{detail:{type:"int",default:5},sharpness:{type:"number",default:.5},width:{type:"int",default:100},increments:{type:"int",default:20},color:{type:"color",default:"#ff0"}},init:function(){},update:function(){var t=this.data,e=(this.el,new a(t.detail));e.generate(t.sharpness);var r=e.toWireframeMesh(t.width,t.increments,t.color),i=new THREE.Raycaster;i.set(new THREE.Vector3(0,-10,0),new THREE.Vector3(0,1,0),0,1e3);for(var n=0;i.intersectObject(r).length&&n<50;)e.generate(t.sharpness),r=e.toWireframeMesh(t.width,t.increments,t.color),n++;this.el.setObject3D("mesh",r)},tick:function(t,e){},remove:function(){},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-terrain",{defaultComponents:{terrain:{}},mappings:{detail:"terrain.detail",sharpness:"terrain.sharpness",width:"terrain.width",increments:"terrain.increments",color:"terrain.color"}})},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},i,!1,function(t){r("gsu9")},null,null).exports,o=r("/ocq"),s={name:"GameWorld",data:function(){return{msg:"",loaded:!1,FileLoader:null,text:"What if the whole world,"}},mounted:function(){var t=this;setTimeout(function(){t.loaded=!0},1e4),setTimeout(function(){t.text="stood still for 1 day?"},15e3),setTimeout(function(){t.text=""},2e4)}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[t.loaded?t._e():[t._m(0)],t._v(" "),r("a-scene",{attrs:{antialias:"true",effects:" glitch, godrays, fxaa",film:"sIntensity: 0.5; nIntensity: 0.7",outline:"enabled: false; width: 1.33 1.33; range: 0 10; strength: 3; smooth: true;",colors:"mode:hqprtom; mul: 0.66 0.5 0.66; pow: 1 1.33 1.66; quant: 0.3 0.3 0.1; orig: 0.33 0.66 0.66",bloom:"filter: bloom!, bloom.filter, #customFilter(bloom_texture 0.3 0.6 0.5); strength: 0.5; radius:1.2",fxaa:"true",godrays:"src: #sun; threshold: 0. 0.63; intensity: 1",glitch:"true"}},[r("a-assets",[r("a-asset-item",{attrs:{id:"tree-obj",src:"static/models/trees/trees-lo-poly.obj"}}),t._v(" "),r("a-asset-item",{attrs:{id:"tree-mtl",src:"static/models/trees/trees-lo-poly.obj"}})],1),t._v(" "),r("a-sound",{attrs:{src:"src: url(static/music/loop1.mp3)",autoplay:"true",loop:"true",position:"0 2 5"}}),t._v(" "),r("a-entity",{attrs:{position:"0 -30 0","particle-system":"preset: dust; particle-count: 10000"}}),t._v(" "),r("a-entity",{attrs:{light:"type:ambient;intensity:0.26000000000000003"}}),t._v(" "),r("a-text",{attrs:{"data-v-35fb1ec0":"",value:t.text,position:"-1.0805017097797602 2.6480193483709424 -1.6184556424294714"}}),t._v(" "),r("a-entity",{attrs:{id:"sun",geometry:"primitive: sphere; radius: 40;",material:"shader: flat; transparent: true; color: #aaaaaa",light:"type: directional; color: #FFF; intensity: 0.7",position:"500 423 420"}},[r("a-animation",{attrs:{attribute:"position",dur:"40000",direction:"alternate",to:"500 600 -1000",repeat:"indefinite"}})],1),t._v(" "),r("a-terrain",{attrs:{position:"0 -50 0",wireframe:"true",width:"1000",increments:"300",detail:"7",sharpness:"0.13",color:"#999999"}}),t._v(" "),r("a-entity",{attrs:{id:"trees",position:"12 0 -2"},on:{el:function(e){return"button"in e||!t._k(e.keyCode,"hasLoaded",void 0,e.key,void 0)?t.loadingHandler(e):null}}},[r("a-obj-model",{attrs:{"data-v-35fb1ec0":"",src:"#tree-obj",mtl:"#tree-mtl",material:"",scale:"0.001 0.001 0.001"}},[r("a-animation",{attrs:{attribute:"scale",dur:"40000",direction:"alternate",from:"0.003 0 0.003",to:"0.003 0.003 0.003",repeat:"indefinite"}})],1)],1),t._v(" "),r("a-obj-model",{attrs:{position:"17 -10 5","data-v-35fb1ec0":"",src:"#tree-obj",mtl:"#tree-mtl",material:"",scale:"0.001 0.001 0.001"}},[r("a-animation",{attrs:{attribute:"scale",dur:"40000",direction:"alternate",from:"0.004 0 0.004",to:"0.004 0.004 0.004",repeat:"indefinite"}})],1),t._v(" "),r("a-sky",{attrs:{color:"black"}})],1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"overlay"},[e("h1",{staticClass:"center"},[this._v("\n\n      Loading...\n      ")])])}]};var l=r("VU/8")(s,c,!1,function(t){r("uhz0")},"data-v-d672db6e",null).exports;a.a.use(o.a);var u=new o.a({routes:[{path:"/",name:"GameWorld",component:l}]});r("mmUs"),r("1Aj6"),r("FJk8");var h={install(t,e){t.mixin({mounted(){}})}};r("q3Rr"),r("CwdJ"),r("Jh/W"),r("1dOJ");a.a.use(h),a.a.config.productionTip=!1,a.a.config.ignoredElements=["a-scene","a-entity","a-camera","a-box"],new a.a({el:"#app",router:u,components:{App:n},template:"<App/>"})},gsu9:function(t,e){},uhz0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.57906dc0428c42448f56.js.map